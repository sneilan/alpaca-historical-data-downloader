"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.alpaca = exports.dailyBarHeaders = exports.dataDirectory = void 0;
const alpaca_1 = require("@master-chief/alpaca");
const lodash_1 = require("lodash");
const key = process.env.ALPACA_KEY;
const secret = process.env.ALPACA_SECRET;
if (!key || !secret) {
    throw Error(`Missing alpaca key or secret`);
}
const dataDirectoryArg = (0, lodash_1.find)(process.argv, x => {
    return x.includes('data-dir=');
});
// Don't end this with a slash. Should identify a folder not what's under the folder.
exports.dataDirectory = dataDirectoryArg ? dataDirectoryArg.split('data-dir=')[1] : '../data';
// divide into temp & finalized
exports.dailyBarHeaders = `symbol,open,high,low,close,volume_weighted,n`;
const credentials = {
    key,
    secret,
    paper: false
};
exports.alpaca = new alpaca_1.AlpacaClient({ credentials, rate_limit: true });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW52aXJvbm1lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJlbnZpcm9ubWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxpREFBb0Q7QUFDcEQsbUNBQThCO0FBRTlCLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDO0FBQ25DLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDO0FBQ3pDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUU7SUFDbkIsTUFBTSxLQUFLLENBQUMsOEJBQThCLENBQUMsQ0FBQztDQUM3QztBQUVELE1BQU0sZ0JBQWdCLEdBQUcsSUFBQSxhQUFJLEVBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRTtJQUM5QyxPQUFPLENBQUMsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDakMsQ0FBQyxDQUFDLENBQUE7QUFFRixxRkFBcUY7QUFDeEUsUUFBQSxhQUFhLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0FBQ25HLCtCQUErQjtBQUNsQixRQUFBLGVBQWUsR0FBRyw4Q0FBOEMsQ0FBQztBQUU5RSxNQUFNLFdBQVcsR0FBRztJQUNsQixHQUFHO0lBQ0gsTUFBTTtJQUNOLEtBQUssRUFBRSxLQUFLO0NBQ2IsQ0FBQztBQUVXLFFBQUEsTUFBTSxHQUFHLElBQUkscUJBQVksQ0FBQyxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFscGFjYUNsaWVudCB9IGZyb20gJ0BtYXN0ZXItY2hpZWYvYWxwYWNhJztcbmltcG9ydCB7IGZpbmQgfSBmcm9tICdsb2Rhc2gnO1xuXG5jb25zdCBrZXkgPSBwcm9jZXNzLmVudi5BTFBBQ0FfS0VZO1xuY29uc3Qgc2VjcmV0ID0gcHJvY2Vzcy5lbnYuQUxQQUNBX1NFQ1JFVDtcbmlmICgha2V5IHx8ICFzZWNyZXQpIHtcbiAgdGhyb3cgRXJyb3IoYE1pc3NpbmcgYWxwYWNhIGtleSBvciBzZWNyZXRgKTtcbn1cblxuY29uc3QgZGF0YURpcmVjdG9yeUFyZyA9IGZpbmQocHJvY2Vzcy5hcmd2LCB4ID0+IHtcbiAgcmV0dXJuIHguaW5jbHVkZXMoJ2RhdGEtZGlyPScpO1xufSlcblxuLy8gRG9uJ3QgZW5kIHRoaXMgd2l0aCBhIHNsYXNoLiBTaG91bGQgaWRlbnRpZnkgYSBmb2xkZXIgbm90IHdoYXQncyB1bmRlciB0aGUgZm9sZGVyLlxuZXhwb3J0IGNvbnN0IGRhdGFEaXJlY3RvcnkgPSBkYXRhRGlyZWN0b3J5QXJnID8gZGF0YURpcmVjdG9yeUFyZy5zcGxpdCgnZGF0YS1kaXI9JylbMV0gOiAnLi4vZGF0YSc7XG4vLyBkaXZpZGUgaW50byB0ZW1wICYgZmluYWxpemVkXG5leHBvcnQgY29uc3QgZGFpbHlCYXJIZWFkZXJzID0gYHN5bWJvbCxvcGVuLGhpZ2gsbG93LGNsb3NlLHZvbHVtZV93ZWlnaHRlZCxuYDtcblxuY29uc3QgY3JlZGVudGlhbHMgPSB7XG4gIGtleSxcbiAgc2VjcmV0LFxuICBwYXBlcjogZmFsc2Vcbn07XG5cbmV4cG9ydCBjb25zdCBhbHBhY2EgPSBuZXcgQWxwYWNhQ2xpZW50KHsgY3JlZGVudGlhbHMsIHJhdGVfbGltaXQ6IHRydWUgfSk7XG4iXX0=